<div class="reset-password-container">
    <div class="reset-password-card">
        <div class="logo-container">
            <img src="assets/images/udacity-logo.svg" alt="Udacity Logo" class="logo">
        </div>

        <div *ngIf="errorMessage" class="error-container">
            <div class="error-icon">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="32" cy="32" r="32" fill="#EA5252" fill-opacity="0.1" />
                    <path d="M32 26V38" stroke="#EA5252" stroke-width="2" stroke-linecap="round" />
                    <circle cx="32" cy="42" r="2" fill="#EA5252" />
                </svg>
            </div>
            <h2 class="error-title">Error</h2>
            <p class="error-description">{{ errorMessage }}</p>
            <div class="error-actions">
                <elearning-button type="button" label="Back to Login" (btnClick)="navigateToLogin()"></elearning-button>
            </div>
        </div>

        <div *ngIf="!errorMessage && !resetComplete" class="form-container">
            <h2 class="form-title">Reset Your Password</h2>
            <p class="form-description">Create a new password for your account.</p>

            <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="form">
                <div class="form-group">
                    <elearning-textbox label="New Password" type="password" formControlName="password"
                        [error]="getErrorMessage('password')"></elearning-textbox>
                </div>

                <div class="form-group">
                    <elearning-textbox label="Confirm Password" type="password" formControlName="confirmPassword"
                        [error]="getErrorMessage('confirmPassword')"></elearning-textbox>
                </div>

                <div class="password-requirements">
                    <h4>Password Requirements:</h4>
                    <ul>
                        <li>At least 8 characters</li>
                        <li>At least one uppercase letter</li>
                        <li>At least one lowercase letter</li>
                        <li>At least one number</li>
                        <li>At least one special character (e.g., !@#$%^&*)</li>
                    </ul>
                </div>

                <div class="form-group">
                    <elearning-button type="submit" label="Set New Password" [disabled]="resetForm.invalid"
                        [loading]="isLoading"></elearning-button>
                </div>
            </form>
        </div>

        <div *ngIf="resetComplete" class="success-container">
            <div class="success-icon">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="32" cy="32" r="32" fill="#42B883" fill-opacity="0.1" />
                    <path d="M28 36.4L22.8 31.2L20 34L28 42L44 26L41.2 23.2L28 36.4Z" fill="#42B883" />
                </svg>
            </div>
            <h2 class="success-title">Password Reset Complete</h2>
            <p class="success-description">
                Your password has been successfully reset. You can now log in with your new password.
            </p>
            <div class="success-actions">
                <elearning-button type="button" label="Log In" (btnClick)="navigateToLogin()"></elearning-button>
            </div>
        </div>
    </div>
</div>